<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="icon" type="image/png" href="favicon-32.png">
  <title>Mishappenings ‚Äî Official</title>
  <meta name="description" content="Mishappenings ‚Äî music, videos, and info." />

  <!-- SOCIAL PREVIEW (LINK UNFURL) -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Mishappenings" />
  <meta property="og:title" content="Mishappenings ‚Äî Official" />
  <meta property="og:description" content="Mishappenings ‚Äî music, videos, and info." />
  <meta property="og:url" content="https://YOURDOMAIN.com/" />

  <meta property="og:image" content="https://YOURDOMAIN.com/Page-Preview.png?v=1" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Mishappenings ‚Äî Official" />
  <meta name="twitter:description" content="Mishappenings ‚Äî music, videos, and info." />
  <meta name="twitter:image" content="https://YOURDOMAIN.com/Page-Preview.png?v=1" />

  <style>
    @font-face{
      font-family:"ChillerWeb";
      src:url("./Chiller.woff2") format("woff2");
      font-weight:400;
      font-style:normal;
      font-display:swap;
    }

    :root{
      /* === Bright / in-your-face theme === */
      --bg:#07080b;
      --ink:#f3f5f7;
      --muted:#b7bcc7;

      --brandYellow:#ffe600; /* Mishappenings title */
      --accent:#00e5ff;      /* electric cyan */
      --accent2:#ff2bd6;     /* hot magenta (sparingly) */

      --hairline:rgba(255,255,255,.14);
      --panel:rgba(10,12,18,.58);
      --panel2:rgba(10,12,18,.82);

      --radius:16px;
      --shadow:0 10px 34px rgba(0,0,0,.62);
      --pad:clamp(10px,2.5vw,18px);

      --brandFont:"ChillerWeb","Chiller","Impact","Haettenschweiler","Arial Black",system-ui,sans-serif;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--ink);
      overflow:hidden;
    }

    /* === Background (IMAGE + DARK OVERLAY) === */
    .bg{
      position:fixed;
      inset:0;
      z-index:-2;
      pointer-events:none;

      /* Layer order: overlay ON TOP of image */
      background:
        linear-gradient(to bottom, rgba(0,0,0,.35), rgba(0,0,0,.90)),
        url("mishbackground.jpg");

      background-size:cover;
      background-position:center;
      background-repeat:no-repeat;
      background-color:#000;
    }

    /* Optional grain (kept, but subtle so it doesn't ruin the image) */
    .bg__grain{
      position:absolute;
      inset:0;
      opacity:.07;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.25'/%3E%3C/svg%3E");
      mix-blend-mode:overlay;
    }

    /* === Top toolbar (distinct from your pill nav) === */
    .topbar{
      position:fixed;
      top:0;
      left:0;
      right:0;
      z-index:6;
      padding: calc(10px + env(safe-area-inset-top)) var(--pad) 10px;
      background:
        linear-gradient(to bottom, rgba(0,0,0,.92), rgba(0,0,0,.70));
      border-bottom:1px solid rgba(0,229,255,.20);
      backdrop-filter: blur(10px);
    }

    .topbar__inner{
      max-width:1100px;
      margin:0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }

    .brand{
      background:none;
      border:0;
      cursor:pointer;
      padding:6px 8px;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .brand__text{
      font-family:var(--brandFont);
      font-size:34px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color:var(--brandYellow);
      text-shadow:
        0 2px 14px rgba(0,0,0,.85),
        0 0 18px rgba(255,230,0,.18);
      line-height:1;
    }

    .brand__tag{
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
      color:rgba(255,255,255,.70);
      padding-top:2px;
      white-space:nowrap;
      display:none;
    }
    @media(min-width:820px){
      .brand__tag{ display:inline-block; }
    }

    /* Dropdown menu button */
    .menu{
      position:relative;
    }

    .menu__btn{
      border:1px solid rgba(0,229,255,.40);
      background:rgba(0,0,0,.25);
      color:rgba(255,255,255,.92);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-size:12px;
      letter-spacing:.12em;
      text-transform:uppercase;
      display:inline-flex;
      align-items:center;
      gap:10px;
      box-shadow:0 0 16px rgba(0,229,255,.08);
      transition:transform .15s ease, border-color .15s ease, background .15s ease;
    }
    .menu__btn:hover{
      transform:translateY(-1px);
      border-color:rgba(255,43,214,.55);
      background:rgba(255,255,255,.06);
    }

    .menu__icon{
      width:14px; height:14px;
      border-top:2px solid rgba(255,255,255,.85);
      border-bottom:2px solid rgba(255,255,255,.85);
      position:relative;
    }
    .menu__icon::before{
      content:"";
      position:absolute;
      left:0; right:0;
      top:50%;
      transform:translateY(-50%);
      border-top:2px solid rgba(255,255,255,.85);
    }

    .menu__panel{
      position:absolute;
      right:0;
      top:calc(100% + 10px);
      min-width:200px;
      background:rgba(0,0,0,.90);
      border:1px solid rgba(0,229,255,.24);
      border-radius:14px;
      box-shadow:0 18px 40px rgba(0,0,0,.70);
      padding:8px;
      opacity:0;
      transform:translateY(-6px);
      pointer-events:none;
      transition:opacity .18s ease, transform .18s ease;
    }
    .menu.is-open .menu__panel{
      opacity:1;
      transform:none;
      pointer-events:auto;
    }

    .menu__item{
      width:100%;
      border:0;
      background:transparent;
      color:rgba(255,255,255,.92);
      text-align:left;
      padding:12px 12px;
      border-radius:12px;
      cursor:pointer;
      font-size:12px;
      letter-spacing:.10em;
      text-transform:uppercase;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      transition:background .15s ease, color .15s ease, transform .15s ease;
    }
    .menu__item:hover{
      background:rgba(0,229,255,.10);
      color:#fff;
      transform:translateX(2px);
    }
    .menu__hint{
      font-size:10px;
      opacity:.65;
      letter-spacing:.12em;
    }

    /* === Pages === */
    .viewport{ position:fixed; inset:0; }
    .page{
      position:absolute;
      inset:0;
      padding:
        calc(92px + env(safe-area-inset-top))
        18px
        calc(220px + env(safe-area-inset-bottom));
      overflow:auto;
      opacity:0;
      transform:translateY(12px);
      pointer-events:none;
      transition:opacity .32s ease, transform .32s ease;

      overscroll-behavior: contain;
      -webkit-overflow-scrolling: touch;
      touch-action: pan-y;
    }
    .page.is-active{
      opacity:1;
      transform:none;
      pointer-events:auto;
    }

    .page__inner{
      max-width:1000px;
      margin:0 auto;
    }

    h2{
      margin:0 0 14px;
      letter-spacing:.12em;
      text-transform:uppercase;
      font-size:18px;
      color:rgba(255,255,255,.92);
      text-shadow:0 0 14px rgba(0,229,255,.10);
    }

    /* === Home === */
    .hero{
      height:calc(100vh - 220px);
      display:flex;
      align-items:center;
      padding-left:40px;
    }

    .hero__title{
      font-family:var(--brandFont);
      font-weight:400;
      font-size:clamp(64px,8vw,120px);
      letter-spacing:.12em;
      margin:0;
      color:var(--brandYellow);
      text-shadow:
        0 2px 18px rgba(0,0,0,.55),
        0 0 20px rgba(255,230,0,.16),
        0 0 18px rgba(0,229,255,.10);
      line-height:0.95;
    }

    .hero__sub{
      margin-top:10px;
      font-size:13px;
      color:rgba(255,255,255,.78);
      letter-spacing:.10em;
      text-transform:uppercase;
      max-width:70ch;
    }

    /* === Panels / cards === */
    .panel{
      background:var(--panel);
      border:1px solid rgba(0,229,255,.22);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:14px 14px 16px;
    }

    /* Links */
    .musicLinks{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:10px;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(0,229,255,.36);
      background:rgba(0,0,0,.24);
      color:rgba(255,255,255,.92);
      text-decoration:none;
      font-size:11px;
      letter-spacing:.10em;
      text-transform:uppercase;
      opacity:.95;
      white-space:nowrap;
      transition:transform .15s ease, border-color .15s ease, background .15s ease, box-shadow .15s ease;
    }
    .pill:hover{
      opacity:1;
      transform:translateY(-1px);
      border-color:rgba(255,43,214,.55);
      background:rgba(255,255,255,.06);
      box-shadow:0 0 18px rgba(0,229,255,.12);
      color:#fff;
    }

    /* === Videos === */
    .videosWrap{ margin-top:10px; }

    .videosGrid{
      display:grid;
      grid-template-columns:repeat(2, minmax(0, 1fr));
      gap:16px;
    }

    .vid{
      background:var(--panel);
      border:1px solid rgba(0,229,255,.22);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    /* Thumbnail button */
    .thumb{
      position:relative;
      width:100%;
      aspect-ratio:16/9;
      display:block;
      padding:0;
      border:0;
      background:#000;
      cursor:pointer;
    }
    .thumb__img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .thumb__overlay{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(to top, rgba(0,0,0,.78), rgba(0,0,0,.08));
      opacity:.96;
      transition:background .18s ease;
    }
    .thumb__play{
      width:56px;
      height:56px;
      border-radius:14px;
      border:1px solid rgba(255,230,0,.65);
      background:rgba(0,0,0,.35);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:20px;
      line-height:1;
      color:rgba(255,255,255,.95);
      box-shadow:0 10px 20px rgba(0,0,0,.45), 0 0 18px rgba(0,229,255,.12);
    }
    .thumb:hover .thumb__overlay{
      background:linear-gradient(to top, rgba(0,0,0,.86), rgba(0,0,0,.12));
    }

    .vid__frame{
      position:relative;
      width:100%;
      aspect-ratio:16/9;
      background:#000;
    }
    .vid__frame iframe{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      border:0;
    }

    .vid__body{
      padding:12px 12px 14px;
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:12px;
    }

    .vid__title{
      margin:0;
      font-family:var(--brandFont);
      font-size:18px;
      letter-spacing:.10em;
      text-transform:uppercase;
      font-weight:400;
      color:rgba(255,255,255,.94);
      line-height:1.05;
      text-shadow:0 0 12px rgba(0,229,255,.08);
    }

    .vid__link{
      font-size:11px;
      opacity:.88;
      text-decoration:none;
      color:rgba(255,255,255,.90);
      border-bottom:1px solid rgba(0,229,255,.28);
      padding-bottom:2px;
      white-space:nowrap;
    }
    .vid__link:hover{
      opacity:1;
      border-bottom-color:rgba(255,230,0,.75);
      color:#fff;
    }

    /* About box */
    .about{
      max-width:80ch;
      background:var(--panel);
      border:1px solid rgba(0,229,255,.20);
      border-radius:var(--radius);
      padding:16px;
      box-shadow:var(--shadow);
    }
    .about p{ color:rgba(255,255,255,.84); line-height:1.7; margin:0 0 12px; }
    .about p:last-child{ margin-bottom:0; }

    /* === Footer / socials === */
    .footer{
      position:fixed;
      bottom:calc(var(--pad) + env(safe-area-inset-bottom));
      left:calc(var(--pad) + env(safe-area-inset-left));
      right:calc(var(--pad) + env(safe-area-inset-right));
      z-index:3;
      background:linear-gradient(to top, rgba(0,0,0,.78), rgba(0,0,0,0));
      padding:14px 0 10px;
      pointer-events:none;
    }

    .footer__inner{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:12px;
      font-size:12px;
      color:rgba(255,255,255,.68);
      pointer-events:auto;
      text-align:center;
    }

    .socials{
      display:flex;
      gap:12px;
      flex-wrap:nowrap;
      overflow-x:auto;
      overflow-y:hidden;
      -webkit-overflow-scrolling:touch;
      justify-content:center;
      max-width:100%;
      padding-bottom:2px;
    }
    .socials::-webkit-scrollbar{ height:0; }

    .social{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(0,229,255,.30);
      background:rgba(0,0,0,.24);
      color:rgba(255,255,255,.92);
      text-decoration:none;
      font-size:11px;
      letter-spacing:.10em;
      text-transform:uppercase;
      pointer-events:auto;
      white-space:nowrap;
      flex:0 0 auto;
      transition:transform .15s ease, border-color .15s ease, background .15s ease, box-shadow .15s ease;
    }
    .social:hover{
      background:rgba(255,255,255,.06);
      color:#fff;
      transform:translateY(-1px);
      border-color:rgba(255,230,0,.70);
      box-shadow:0 0 18px rgba(0,229,255,.12);
    }

    .legal{
      max-width:1000px;
      margin:0 auto;
      font-size:10px;
      line-height:1.35;
      letter-spacing:.02em;
      color:rgba(255,255,255,.48);
      text-wrap:balance;
    }

    @media(max-width:800px){
      .videosGrid{ grid-template-columns:1fr; }
      .hero{ padding-left:18px; }
    }
  </style>
</head>

<body>
  <div class="bg" aria-hidden="true"><div class="bg__grain"></div></div>

  <header class="topbar">
    <div class="topbar__inner">
      <button class="brand" data-nav="home" aria-label="Go home">
        <span class="brand__text">MISHAPPENINGS</span>
        <span class="brand__tag">official site</span>
      </button>

      <div class="menu" id="menu">
        <button class="menu__btn" id="menuBtn" type="button" aria-haspopup="true" aria-expanded="false">
          <span class="menu__icon" aria-hidden="true"></span>
          <span>Menu</span>
        </button>

        <div class="menu__panel" id="menuPanel" role="menu" aria-label="Site menu">
          <button class="menu__item" type="button" data-nav="music" role="menuitem">
            Music <span class="menu__hint">01</span>
          </button>
          <button class="menu__item" type="button" data-nav="videos" role="menuitem">
            Videos <span class="menu__hint">02</span>
          </button>
          <button class="menu__item" type="button" data-nav="about" role="menuitem">
            About <span class="menu__hint">03</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <main class="viewport">
    <section class="page is-active" data-page="home">
      <div class="hero">
        <div>
          <h1 class="hero__title">MISHAPPENINGS</h1>
          <div class="hero__sub">rock-ish ‚Ä¢ synth-ish ‚Ä¢ punk-ish ‚Ä¢ questionable decisions</div>
        </div>
      </div>
    </section>

    <!-- MUSIC -->
    <section class="page" data-page="music">
      <div class="page__inner">
        <h2>Music</h2>

        <div class="panel">
          <p style="margin:0;color:rgba(255,255,255,.84);line-height:1.7;font-size:13px;">
            The official Mishappenings audio pipeline: turn caffeine into noise, add synths, then accidentally write a hook.
          </p>

          <div class="musicLinks" aria-label="Mishappenings links">
            <a class="pill" href="https://open.spotify.com/artist/0JtsOOwPkXgIPPGaQt2jW5?si=BPET0xsmQe6cIulNhUjyIw" target="_blank" rel="noreferrer">Spotify</a>
            <a class="pill" href="https://mishappenings.bandcamp.com/" target="_blank" rel="noreferrer">Bandcamp</a>
            <a class="pill" href="https://www.instagram.com/mishappeningsband/" target="_blank" rel="noreferrer">Instagram</a>
          </div>
        </div>
      </div>
    </section>

    <!-- VIDEOS -->
    <section class="page" data-page="videos">
      <div class="page__inner">
        <h2>Videos</h2>

        <div class="videosWrap">
          <div class="videosGrid" id="videosGrid">

            <article class="vid" data-video="srJQXVLbGDg">
              <button class="thumb" type="button" aria-label="Play Scam Scum">
                <img class="thumb__img" src="https://img.youtube.com/vi/srJQXVLbGDg/hqdefault.jpg" alt="Mishappenings - Scam Scum (Official Video)" loading="lazy" referrerpolicy="no-referrer">
                <span class="thumb__overlay"><span class="thumb__play">‚ñ∂</span></span>
              </button>
              <div class="vid__body">
                <h3 class="vid__title">Scam Scum</h3>
                <a class="vid__link" href="https://www.youtube.com/watch?v=srJQXVLbGDg&list=PLwgEZYHY4M_MufPxlIQ0ts6LIQm9C6rxW" target="_blank" rel="noreferrer">YouTube</a>
              </div>
            </article>

            <article class="vid" data-video="zpfnCQ-lGhc">
              <button class="thumb" type="button" aria-label="Play The Place of Delights">
                <img class="thumb__img" src="https://img.youtube.com/vi/zpfnCQ-lGhc/hqdefault.jpg" alt="The Place of Delights (Official Video) üëΩRandom Happeningsü§ñ" loading="lazy" referrerpolicy="no-referrer">
                <span class="thumb__overlay"><span class="thumb__play">‚ñ∂</span></span>
              </button>
              <div class="vid__body">
                <h3 class="vid__title">The Place of Delights</h3>
                <a class="vid__link" href="https://youtu.be/zpfnCQ-lGhc" target="_blank" rel="noreferrer">YouTube</a>
              </div>
            </article>

            <article class="vid" data-video="KdHrTwM67_Q">
              <button class="thumb" type="button" aria-label="Play Recipe For Disaster">
                <img class="thumb__img" src="https://img.youtube.com/vi/KdHrTwM67_Q/hqdefault.jpg" alt="Mishappenings - Recipe For Disaster (Official Video)" loading="lazy" referrerpolicy="no-referrer">
                <span class="thumb__overlay"><span class="thumb__play">‚ñ∂</span></span>
              </button>
              <div class="vid__body">
                <h3 class="vid__title">Recipe For Disaster</h3>
                <a class="vid__link" href="https://youtu.be/KdHrTwM67_Q" target="_blank" rel="noreferrer">YouTube</a>
              </div>
            </article>

            <article class="vid" data-video="lOoQtup4sDs">
              <button class="thumb" type="button" aria-label="Play I Rule Myself">
                <img class="thumb__img" src="https://img.youtube.com/vi/lOoQtup4sDs/hqdefault.jpg" alt="I Rule Myself (Official Video) By Mishappenings" loading="lazy" referrerpolicy="no-referrer">
                <span class="thumb__overlay"><span class="thumb__play">‚ñ∂</span></span>
              </button>
              <div class="vid__body">
                <h3 class="vid__title">I Rule Myself</h3>
                <a class="vid__link" href="https://youtu.be/lOoQtup4sDs" target="_blank" rel="noreferrer">YouTube</a>
              </div>
            </article>

            <article class="vid" data-video="cmurdw4G-kw">
              <button class="thumb" type="button" aria-label="Play I Did a Runner">
                <img class="thumb__img" src="https://img.youtube.com/vi/cmurdw4G-kw/hqdefault.jpg" alt="Mishappenings - I Did a Runner (Official Video)" loading="lazy" referrerpolicy="no-referrer">
                <span class="thumb__overlay"><span class="thumb__play">‚ñ∂</span></span>
              </button>
              <div class="vid__body">
                <h3 class="vid__title">I Did a Runner</h3>
                <a class="vid__link" href="https://youtu.be/cmurdw4G-kw" target="_blank" rel="noreferrer">YouTube</a>
              </div>
            </article>

            <article class="vid" data-video="YuDldEvQXMI">
              <button class="thumb" type="button" aria-label="Play A Beautiful Scolding">
                <img class="thumb__img" src="https://img.youtube.com/vi/YuDldEvQXMI/hqdefault.jpg" alt="Mishappenings featuring Lewis Tivey - A Beautiful Scolding" loading="lazy" referrerpolicy="no-referrer">
                <span class="thumb__overlay"><span class="thumb__play">‚ñ∂</span></span>
              </button>
              <div class="vid__body">
                <h3 class="vid__title">A Beautiful Scolding (feat. Lewis Tivey)</h3>
                <a class="vid__link" href="https://youtu.be/YuDldEvQXMI" target="_blank" rel="noreferrer">YouTube</a>
              </div>
            </article>

            <article class="vid" data-video="34m8u6WRlk0">
              <button class="thumb" type="button" aria-label="Play I Cheered Them On">
                <img class="thumb__img" src="https://img.youtube.com/vi/34m8u6WRlk0/hqdefault.jpg" alt="Mishappenings - I Cheered Them On" loading="lazy" referrerpolicy="no-referrer">
                <span class="thumb__overlay"><span class="thumb__play">‚ñ∂</span></span>
              </button>
              <div class="vid__body">
                <h3 class="vid__title">I Cheered Them On</h3>
                <a class="vid__link" href="https://youtu.be/34m8u6WRlk0" target="_blank" rel="noreferrer">YouTube</a>
              </div>
            </article>

          </div>

          <div style="margin-top:16px;display:flex;justify-content:center;">
            <a class="pill" href="https://www.youtube.com/" target="_blank" rel="noreferrer">More on YouTube</a>
          </div>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section class="page" data-page="about">
      <div class="page__inner">
        <h2>About</h2>

        <div class="about">
          <p><strong>Mishappenings</strong> is ‚Äúrock-ish, synth-ish, punk-ish humour‚Äù with the occasional outcast track turning up like it lives here now.</p>
          <p>Think riffs that shouldn‚Äôt work but do, synths that show up uninvited, and lyrics that sound like they were written during a minor spiritual crisis in the kitchen at 2am.</p>
          <p>It‚Äôs not trying to be cool. It‚Äôs trying to be <em>good</em>. And sometimes it accidentally achieves both.</p>

          <div class="musicLinks" style="margin-top:14px;">
            <a class="pill" href="https://open.spotify.com/artist/0JtsOOwPkXgIPPGaQt2jW5?si=BPET0xsmQe6cIulNhUjyIw" target="_blank" rel="noreferrer">Spotify</a>
            <a class="pill" href="https://mishappenings.bandcamp.com/" target="_blank" rel="noreferrer">Bandcamp</a>
            <a class="pill" href="https://www.instagram.com/mishappeningsband/" target="_blank" rel="noreferrer">Instagram</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer__inner">
      <div class="socials">
        <a class="social" href="https://open.spotify.com/artist/0JtsOOwPkXgIPPGaQt2jW5?si=BPET0xsmQe6cIulNhUjyIw" target="_blank" rel="noreferrer">Spotify</a>
        <a class="social" href="https://mishappenings.bandcamp.com/" target="_blank" rel="noreferrer">Bandcamp</a>
        <a class="social" href="https://www.instagram.com/mishappeningsband/" target="_blank" rel="noreferrer">Instagram</a>
      </div>

      <span>¬© <span id="year"></span> Mishappenings</span>

      <div class="legal">
        ¬© <span id="year2"></span> Mishappenings. All music, videos, artwork, imagery, and written content are the intellectual property of Mishappenings unless otherwise stated. All rights reserved.
      </div>
    </div>
  </footer>

  <script>
    const pages=[...document.querySelectorAll(".page")];
    const topNav=null; // no pill nav anymore
    document.getElementById("year").textContent=new Date().getFullYear();
    document.getElementById("year2").textContent=new Date().getFullYear();

    let current="home",anim=false;

    if ("scrollRestoration" in history) history.scrollRestoration = "manual";

    function resetPageScroll(){
      const active = document.querySelector(".page.is-active");
      if(active) active.scrollTop = 0;
      window.scrollTo(0,0);
    }

    function show(page){
      pages.forEach(p=>p.classList.remove("is-active"));
      const next=pages.find(p=>p.dataset.page===page) || pages.find(p=>p.dataset.page==="home");
      next.classList.add("is-active");
      current=next.dataset.page;

      if(current === "home"){
        history.replaceState(null, "", "/");
      } else {
        history.replaceState(null, "", "#"+current);
      }

      requestAnimationFrame(()=> resetPageScroll());
    }

    function navTo(to){
      if(anim) return;
      anim=true;
      show(to);
      setTimeout(()=>anim=false,240);
    }

    // Dropdown menu logic
    const menu = document.getElementById("menu");
    const menuBtn = document.getElementById("menuBtn");
    const menuPanel = document.getElementById("menuPanel");

    function closeMenu(){
      menu.classList.remove("is-open");
      menuBtn.setAttribute("aria-expanded","false");
    }

    function toggleMenu(){
      const open = menu.classList.toggle("is-open");
      menuBtn.setAttribute("aria-expanded", open ? "true" : "false");
    }

    menuBtn.addEventListener("click", (e)=>{
      e.stopPropagation();
      toggleMenu();
    });

    document.addEventListener("click", (e)=>{
      if(menu.classList.contains("is-open")) closeMenu();
    });

    document.addEventListener("keydown", (e)=>{
      if(e.key === "Escape") closeMenu();
    });

    // Navigation clicks (brand + menu items)
    document.addEventListener("click",e=>{
      const b=e.target.closest("[data-nav]");
      if(b){
        navTo(b.dataset.nav);
        closeMenu();
      }
    });

    // Start on hash
    const start=(location.hash||"#home").replace("#","");
    show(start);

    window.addEventListener("hashchange", ()=>{
      show((location.hash||"#home").replace("#",""));
      closeMenu();
    });

    /* === THUMB -> EMBED SWAP === */
    const grid = document.getElementById("videosGrid");

    function makeIframe(videoId){
      const iframe = document.createElement("iframe");
      iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0`;
      iframe.title = "YouTube video player";
      iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
      iframe.allowFullscreen = true;
      iframe.loading = "lazy";
      iframe.referrerPolicy = "no-referrer";
      return iframe;
    }

    if(grid){
      grid.addEventListener("click", (e)=>{
        const btn = e.target.closest(".thumb");
        if(!btn) return;

        const card = btn.closest(".vid");
        const id = card?.dataset.video;
        if(!id) return;

        const frame = document.createElement("div");
        frame.className = "vid__frame";
        frame.appendChild(makeIframe(id));

        btn.replaceWith(frame);
      });
    }
  </script>
</body>
</html>
